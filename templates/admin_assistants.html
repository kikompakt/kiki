<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistant-Management | KI-Kursstudio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .assistant-card {
            transition: all 0.3s ease;
            border-left: 4px solid #007bff;
        }
        .assistant-card:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        .assistant-card.inactive {
            border-left-color: #6c757d;
            opacity: 0.7;
        }
        .role-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
        }
        .instructions-preview {
            max-height: 100px;
            overflow: hidden;
            position: relative;
        }
        .instructions-preview:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(transparent, white);
        }
        .modal-lg {
            max-width: 900px;
        }
        .order-badge {
            background: #e9ecef;
            color: #495057;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-light">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-robot me-2"></i>KI-Kursstudio
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/dashboard">
                    <i class="fas fa-dashboard me-1"></i>Dashboard
                </a>
                <a class="nav-link active" href="/admin/assistants">
                    <i class="fas fa-users-cog me-1"></i>Assistants
                </a>
                <a class="nav-link" href="/chat">
                    <i class="fas fa-comments me-1"></i>Chat
                </a>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h1 class="display-6">Assistant-Management</h1>
                <p class="text-muted">Verwalte deine OpenAI Assistants f√ºr das KI-Kursstudio</p>
            </div>
            <button class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#createAssistantModal">
                <i class="fas fa-plus me-2"></i>Neuer Assistant
            </button>
        </div>

        <!-- Statistics -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card bg-primary text-white">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4>{{ assistants|length }}</h4>
                                <small>Gesamt Assistants</small>
                            </div>
                            <i class="fas fa-robot fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-success text-white">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4>{{ assistants|selectattr('is_active')|list|length }}</h4>
                                <small>Aktiv</small>
                            </div>
                            <i class="fas fa-check-circle fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-warning text-white">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4>{{ assistants|rejectattr('is_active')|list|length }}</h4>
                                <small>Inaktiv</small>
                            </div>
                            <i class="fas fa-pause-circle fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-info text-white">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4>{{ assistants|map(attribute='role')|unique|list|length }}</h4>
                                <small>Rollen</small>
                            </div>
                            <i class="fas fa-tags fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Assistants Grid -->
        <div class="row">
            {% for assistant in assistants %}
            <div class="col-lg-6 col-xl-4 mb-4">
                <div class="card assistant-card h-100 {% if not assistant.is_active %}inactive{% endif %}">
                    <div class="card-header d-flex justify-content-between align-items-start">
                        <div class="d-flex align-items-center">
                            <div class="order-badge me-2">{{ assistant.order_index }}</div>
                            <div>
                                <h6 class="mb-1">{{ assistant.name }}</h6>
                                <span class="badge role-badge bg-secondary">{{ assistant.role }}</span>
                            </div>
                        </div>
                        <div class="dropdown">
                            <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="dropdown">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li>
                                    <a class="dropdown-item edit-assistant" href="#" data-id="{{ assistant.id }}">
                                        <i class="fas fa-edit me-2"></i>Bearbeiten
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item toggle-assistant" href="#" data-id="{{ assistant.id }}">
                                        <i class="fas fa-{% if assistant.is_active %}pause{% else %}play{% endif %} me-2"></i>
                                        {% if assistant.is_active %}Deaktivieren{% else %}Aktivieren{% endif %}
                                    </a>
                                </li>
                                <li><hr class="dropdown-divider"></li>
                                <li>
                                    <a class="dropdown-item text-danger delete-assistant" href="#" data-id="{{ assistant.id }}" data-name="{{ assistant.name }}">
                                        <i class="fas fa-trash me-2"></i>L√∂schen
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-body">
                        <p class="text-muted small mb-2">{{ assistant.description }}</p>
                        
                        <div class="mb-2">
                            <small class="text-muted">Assistant ID:</small><br>
                            <code class="small">{{ assistant.assistant_id }}</code>
                        </div>
                        
                        <div class="mb-2">
                            <small class="text-muted">Model:</small><br>
                            <span class="badge bg-light text-dark">{{ assistant.model }}</span>
                        </div>
                        
                        <div class="instructions-preview">
                            <small class="text-muted">Instructions:</small><br>
                            <small class="text-dark">{{ assistant.instructions[:150] }}{% if assistant.instructions|length > 150 %}...{% endif %}</small>
                        </div>
                    </div>
                    <div class="card-footer text-muted small">
                        <div class="d-flex justify-content-between">
                            <span>
                                <i class="fas fa-{% if assistant.is_active %}check-circle text-success{% else %}pause-circle text-warning{% endif %} me-1"></i>
                                {% if assistant.is_active %}Aktiv{% else %}Inaktiv{% endif %}
                            </span>
                            <span>{{ assistant.updated_at }}</span>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        {% if not assistants %}
        <div class="text-center py-5">
            <i class="fas fa-robot fa-4x text-muted mb-3"></i>
            <h4 class="text-muted">Keine Assistants konfiguriert</h4>
            <p class="text-muted">Erstelle deinen ersten Assistant f√ºr das KI-Kursstudio.</p>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createAssistantModal">
                <i class="fas fa-plus me-2"></i>Assistant erstellen
            </button>
        </div>
        {% endif %}
    </div>

    <!-- Create Assistant Modal -->
    <div class="modal fade" id="createAssistantModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-plus-circle me-2"></i>Neuer Assistant
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <form id="createAssistantForm">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Name *</label>
                                    <input type="text" class="form-control" name="name" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Rolle *</label>
                                    <select class="form-select" name="role" required>
                                        <option value="">W√§hle eine Rolle...</option>
                                        <option value="supervisor">Supervisor</option>
                                        <option value="content_creator">Content Creator</option>
                                        <option value="didactic_expert">Didactic Expert</option>
                                        <option value="quality_checker">Quality Checker</option>
                                        <option value="custom">Custom</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-8">
                                <div class="mb-3">
                                    <label class="form-label">OpenAI Assistant ID *</label>
                                    <input type="text" class="form-control" name="assistant_id" placeholder="asst_xxxxxxxxxxxxxxxxxxxxxxxx" required>
                                    <div class="form-text">Kopiere die Assistant-ID aus OpenAI Platform</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label class="form-label">Reihenfolge</label>
                                    <input type="number" class="form-control" name="order_index" value="0" min="0">
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Beschreibung</label>
                            <input type="text" class="form-control" name="description" placeholder="Kurze Beschreibung des Assistants...">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Model</label>
                            <select class="form-select" name="model">
                                <!-- Latest Models -->
                                <optgroup label="üÜï Latest Models">
                                    <option value="gpt-4.1">GPT-4.1 (Latest)</option>
                                    <option value="gpt-4.1-mini">GPT-4.1 Mini</option>
                                    <option value="gpt-4.1-nano">GPT-4.1 Nano</option>
                                    <option value="gpt-4.5-preview">GPT-4.5 Preview</option>
                                </optgroup>
                                
                                <!-- GPT-4o Family -->
                                <optgroup label="üî• GPT-4o Familie">
                                    <option value="gpt-4o" selected>GPT-4o (Standard)</option>
                                    <option value="gpt-4o-2024-11-20">GPT-4o (2024-11-20)</option>
                                    <option value="gpt-4o-2024-08-06">GPT-4o (2024-08-06)</option>
                                    <option value="gpt-4o-2024-05-13">GPT-4o (2024-05-13)</option>
                                    <option value="gpt-4o-audio-preview">GPT-4o Audio Preview</option>
                                    <option value="gpt-4o-realtime-preview">GPT-4o Realtime Preview</option>
                                    <option value="gpt-4o-mini">GPT-4o Mini</option>
                                    <option value="gpt-4o-mini-audio-preview">GPT-4o Mini Audio Preview</option>
                                    <option value="gpt-4o-mini-realtime-preview">GPT-4o Mini Realtime Preview</option>
                                    <option value="gpt-4o-mini-search-preview">GPT-4o Mini Search Preview</option>
                                    <option value="gpt-4o-search-preview">GPT-4o Search Preview</option>
                                </optgroup>
                                
                                <!-- O1 Familie -->
                                <optgroup label="üß† O1 Familie (Reasoning)">
                                    <option value="o1">O1 (Latest)</option>
                                    <option value="o1-preview-2024-09-12">O1 Preview (2024-09-12)</option>
                                    <option value="o1-pro">O1 Pro</option>
                                    <option value="o1-mini">O1 Mini</option>
                                </optgroup>
                                
                                <!-- O3 Familie -->
                                <optgroup label="üî¨ O3 Familie (Advanced Reasoning)">
                                    <option value="o3">O3</option>
                                    <option value="o3-pro">O3 Pro</option>
                                    <option value="o3-deep-research">O3 Deep Research</option>
                                    <option value="o3-mini">O3 Mini</option>
                                </optgroup>
                                
                                <!-- O4 Familie -->
                                <optgroup label="‚ö° O4 Familie (Next-Gen)">
                                    <option value="o4-mini">O4 Mini</option>
                                    <option value="o4-mini-deep-research">O4 Mini Deep Research</option>
                                </optgroup>
                                
                                <!-- Spezialmodelle -->
                                <optgroup label="üõ†Ô∏è Spezialmodelle">
                                    <option value="codex-mini-latest">Codex Mini Latest</option>
                                    <option value="computer-use-preview">Computer Use Preview</option>
                                    <option value="gpt-image-1">GPT Image-1</option>
                                </optgroup>
                                
                                <!-- Legacy Models -->
                                <optgroup label="üìã Legacy Models">
                                <option value="gpt-4">GPT-4</option>
                                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                </optgroup>
                            </select>
                            <div class="form-text">
                                <i class="fas fa-info-circle me-1"></i>
                                <strong>Empfehlung:</strong> GPT-4o f√ºr beste Balance aus Performance und Kosten.
                                <a href="#" onclick="showModelInfo()" class="text-decoration-none">Model-Details anzeigen</a>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Instructions</label>
                            <textarea class="form-control" name="instructions" rows="4" placeholder="System-Anweisungen f√ºr den Assistant..."></textarea>
                        </div>

                        <!-- ADVANCED BEHAVIOR MANAGEMENT ACCORDION -->
                        <div class="accordion mb-3" id="advancedSettingsAccordion">
                            <!-- OpenAI API Parameters -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#apiParams" aria-expanded="false">
                                        <i class="fas fa-cogs me-2"></i>OpenAI API Parameter
                                    </button>
                                </h2>
                                <div id="apiParams" class="accordion-collapse collapse" data-bs-parent="#advancedSettingsAccordion">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Temperature <span class="text-muted">(0.0-2.0)</span></label>
                                                    <input type="number" class="form-control" name="temperature" value="0.7" min="0" max="2" step="0.1">
                                                    <div class="form-text">Kreativit√§t: 0.1=konservativ, 1.5=kreativ</div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Top-p <span class="text-muted">(0.0-1.0)</span></label>
                                                    <input type="number" class="form-control" name="top_p" value="1.0" min="0" max="1" step="0.1">
                                                    <div class="form-text">Nucleus Sampling: 0.1=fokussiert, 1.0=vielf√§ltig</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Max Tokens</label>
                                                    <input type="number" class="form-control" name="max_tokens" value="2000" min="1" max="4096">
                                                    <div class="form-text">Maximale Antwortl√§nge</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Frequency Penalty</label>
                                                    <input type="number" class="form-control" name="frequency_penalty" value="0.0" min="-2" max="2" step="0.1">
                                                    <div class="form-text">Wiederholungen reduzieren</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Presence Penalty</label>
                                                    <input type="number" class="form-control" name="presence_penalty" value="0.0" min="-2" max="2" step="0.1">
                                                    <div class="form-text">Themen-Diversit√§t f√∂rdern</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Workflow Settings -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#workflowSettings" aria-expanded="false">
                                        <i class="fas fa-play-circle me-2"></i>Workflow-Einstellungen
                                    </button>
                                </h2>
                                <div id="workflowSettings" class="accordion-collapse collapse" data-bs-parent="#advancedSettingsAccordion">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Retry-Versuche</label>
                                                    <input type="number" class="form-control" name="retry_attempts" value="3" min="0" max="10">
                                                    <div class="form-text">Anzahl Wiederholungen bei Fehlern</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Timeout (Sekunden)</label>
                                                    <input type="number" class="form-control" name="timeout_seconds" value="180" min="30" max="600">
                                                    <div class="form-text">Maximale Wartezeit</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Error Handling</label>
                                                    <select class="form-select" name="error_handling">
                                                        <option value="graceful" selected>Graceful (Fallback)</option>
                                                        <option value="strict">Strict (Abbruch)</option>
                                                        <option value="retry">Retry (Wiederholen)</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Performance Settings -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#performanceSettings" aria-expanded="false">
                                        <i class="fas fa-tachometer-alt me-2"></i>Performance-Einstellungen
                                    </button>
                                </h2>
                                <div id="performanceSettings" class="accordion-collapse collapse" data-bs-parent="#advancedSettingsAccordion">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Response Limit (Sekunden)</label>
                                                    <input type="number" class="form-control" name="response_limit" value="30" min="5" max="120">
                                                    <div class="form-text">Maximale Antwortzeit</div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Context Window</label>
                                                    <select class="form-select" name="context_window">
                                                        <option value="32000">32K (Standard)</option>
                                                        <option value="64000">64K (Erweitert)</option>
                                                        <option value="128000" selected>128K (Maximum)</option>
                                                    </select>
                                                    <div class="form-text">Verf√ºgbare Kontext-Gr√∂√üe</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Behavior Presets -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#behaviorPresets" aria-expanded="false">
                                        <i class="fas fa-user-cog me-2"></i>Verhalten & Tools
                                    </button>
                                </h2>
                                <div id="behaviorPresets" class="accordion-collapse collapse" data-bs-parent="#advancedSettingsAccordion">
                                    <div class="accordion-body">
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label class="form-label">Behavior Preset</label>
                                                <select class="form-select" name="behavior_preset" onchange="applyBehaviorPreset(this.value, 'create')">
                                                    <option value="balanced" selected>üéØ Balanced (Ausgewogen)</option>
                                                    <option value="creative">üé® Creative (Kreativ)</option>
                                                    <option value="conservative">üîí Conservative (Konservativ)</option>
                                                    <option value="analytical">üìä Analytical (Analytisch)</option>
                                                    <option value="custom">‚öôÔ∏è Custom (Benutzerdefiniert)</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <button type="button" class="btn btn-outline-info btn-sm mt-4" onclick="showPresetInfo()">
                                                    <i class="fas fa-info-circle me-1"></i>Preset Info
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label">Custom System Message</label>
                                            <textarea class="form-control" name="custom_system_message" rows="3" placeholder="Zus√§tzliche System-Anweisungen..."></textarea>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label">Enabled Tools</label>
                                            <div class="tool-checkboxes">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="create_content" id="tool_create_content" checked>
                                                    <label class="form-check-label" for="tool_create_content">
                                                        üìù Create Content (Content-Erstellung)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="optimize_didactics" id="tool_optimize_didactics" checked>
                                                    <label class="form-check-label" for="tool_optimize_didactics">
                                                        üéì Optimize Didactics (Didaktik-Optimierung)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="critically_review" id="tool_critically_review" checked>
                                                    <label class="form-check-label" for="tool_critically_review">
                                                        üîç Critical Review (Qualit√§tspr√ºfung)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="request_user_feedback" id="tool_request_user_feedback" checked>
                                                    <label class="form-check-label" for="tool_request_user_feedback">
                                                        üë§ Request User Feedback (User-Feedback)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="knowledge_lookup" id="tool_knowledge_lookup" checked>
                                                    <label class="form-check-label" for="tool_knowledge_lookup">
                                                        üìö Knowledge Lookup (Wissensdatenbank)
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save me-2"></i>Assistant erstellen
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Assistant Modal -->
    <div class="modal fade" id="editAssistantModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-edit me-2"></i>Assistant bearbeiten
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <form id="editAssistantForm">
                    <input type="hidden" id="editAssistantId">
                    <div class="modal-body">
                        <!-- Same form fields as create modal -->
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Name *</label>
                                    <input type="text" class="form-control" name="name" id="editName" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Rolle *</label>
                                    <select class="form-select" name="role" id="editRole" required>
                                        <option value="supervisor">Supervisor</option>
                                        <option value="content_creator">Content Creator</option>
                                        <option value="didactic_expert">Didactic Expert</option>
                                        <option value="quality_checker">Quality Checker</option>
                                        <option value="custom">Custom</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-8">
                                <div class="mb-3">
                                    <label class="form-label">OpenAI Assistant ID</label>
                                    <input type="text" class="form-control" id="editAssistantIdField" readonly>
                                    <div class="form-text">Assistant-ID kann nicht ge√§ndert werden</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label class="form-label">Reihenfolge</label>
                                    <input type="number" class="form-control" name="order_index" id="editOrderIndex" min="0">
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Beschreibung</label>
                            <input type="text" class="form-control" name="description" id="editDescription">
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Model</label>
                                    <select class="form-select" name="model" id="editModel">
                                        <!-- Latest Models -->
                                        <optgroup label="üÜï Latest Models">
                                            <option value="gpt-4.1">GPT-4.1 (Latest)</option>
                                            <option value="gpt-4.1-mini">GPT-4.1 Mini</option>
                                            <option value="gpt-4.1-nano">GPT-4.1 Nano</option>
                                            <option value="gpt-4.5-preview">GPT-4.5 Preview</option>
                                        </optgroup>
                                        
                                        <!-- GPT-4o Family -->
                                        <optgroup label="üî• GPT-4o Familie">
                                            <option value="gpt-4o">GPT-4o (Standard)</option>
                                            <option value="gpt-4o-2024-11-20">GPT-4o (2024-11-20)</option>
                                            <option value="gpt-4o-2024-08-06">GPT-4o (2024-08-06)</option>
                                            <option value="gpt-4o-2024-05-13">GPT-4o (2024-05-13)</option>
                                            <option value="gpt-4o-audio-preview">GPT-4o Audio Preview</option>
                                            <option value="gpt-4o-realtime-preview">GPT-4o Realtime Preview</option>
                                            <option value="gpt-4o-mini">GPT-4o Mini</option>
                                            <option value="gpt-4o-mini-audio-preview">GPT-4o Mini Audio Preview</option>
                                            <option value="gpt-4o-mini-realtime-preview">GPT-4o Mini Realtime Preview</option>
                                            <option value="gpt-4o-mini-search-preview">GPT-4o Mini Search Preview</option>
                                            <option value="gpt-4o-search-preview">GPT-4o Search Preview</option>
                                        </optgroup>
                                        
                                        <!-- O1 Familie -->
                                        <optgroup label="üß† O1 Familie (Reasoning)">
                                            <option value="o1">O1 (Latest)</option>
                                            <option value="o1-preview-2024-09-12">O1 Preview (2024-09-12)</option>
                                            <option value="o1-pro">O1 Pro</option>
                                            <option value="o1-mini">O1 Mini</option>
                                        </optgroup>
                                        
                                        <!-- O3 Familie -->
                                        <optgroup label="üî¨ O3 Familie (Advanced Reasoning)">
                                            <option value="o3">O3</option>
                                            <option value="o3-pro">O3 Pro</option>
                                            <option value="o3-deep-research">O3 Deep Research</option>
                                            <option value="o3-mini">O3 Mini</option>
                                        </optgroup>
                                        
                                        <!-- O4 Familie -->
                                        <optgroup label="‚ö° O4 Familie (Next-Gen)">
                                            <option value="o4-mini">O4 Mini</option>
                                            <option value="o4-mini-deep-research">O4 Mini Deep Research</option>
                                        </optgroup>
                                        
                                        <!-- Spezialmodelle -->
                                        <optgroup label="üõ†Ô∏è Spezialmodelle">
                                            <option value="codex-mini-latest">Codex Mini Latest</option>
                                            <option value="computer-use-preview">Computer Use Preview</option>
                                            <option value="gpt-image-1">GPT Image-1</option>
                                        </optgroup>
                                        
                                        <!-- Legacy Models -->
                                        <optgroup label="üìã Legacy Models">
                                        <option value="gpt-4">GPT-4</option>
                                        <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Status</label>
                                    <select class="form-select" name="is_active" id="editIsActive">
                                        <option value="true">Aktiv</option>
                                        <option value="false">Inaktiv</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Instructions</label>
                            <textarea class="form-control" name="instructions" id="editInstructions" rows="8"></textarea>
                        </div>

                        <!-- ADVANCED BEHAVIOR MANAGEMENT ACCORDION -->
                        <div class="accordion mb-3" id="editAdvancedSettingsAccordion">
                            <!-- OpenAI API Parameters -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#editApiParams" aria-expanded="false">
                                        <i class="fas fa-cogs me-2"></i>OpenAI API Parameter
                                    </button>
                                </h2>
                                <div id="editApiParams" class="accordion-collapse collapse" data-bs-parent="#editAdvancedSettingsAccordion">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Temperature <span class="text-muted">(0.0-2.0)</span></label>
                                                    <input type="number" class="form-control" name="temperature" id="editTemperature" min="0" max="2" step="0.1">
                                                    <div class="form-text">Kreativit√§t: 0.1=konservativ, 1.5=kreativ</div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Top-p <span class="text-muted">(0.0-1.0)</span></label>
                                                    <input type="number" class="form-control" name="top_p" id="editTopP" min="0" max="1" step="0.1">
                                                    <div class="form-text">Nucleus Sampling: 0.1=fokussiert, 1.0=vielf√§ltig</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Max Tokens</label>
                                                    <input type="number" class="form-control" name="max_tokens" id="editMaxTokens" min="1" max="4096">
                                                    <div class="form-text">Maximale Antwortl√§nge</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Frequency Penalty</label>
                                                    <input type="number" class="form-control" name="frequency_penalty" id="editFrequencyPenalty" min="-2" max="2" step="0.1">
                                                    <div class="form-text">Wiederholungen reduzieren</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Presence Penalty</label>
                                                    <input type="number" class="form-control" name="presence_penalty" id="editPresencePenalty" min="-2" max="2" step="0.1">
                                                    <div class="form-text">Themen-Diversit√§t f√∂rdern</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Workflow Settings -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#editWorkflowSettings" aria-expanded="false">
                                        <i class="fas fa-play-circle me-2"></i>Workflow-Einstellungen
                                    </button>
                                </h2>
                                <div id="editWorkflowSettings" class="accordion-collapse collapse" data-bs-parent="#editAdvancedSettingsAccordion">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Retry-Versuche</label>
                                                    <input type="number" class="form-control" name="retry_attempts" id="editRetryAttempts" min="0" max="10">
                                                    <div class="form-text">Anzahl Wiederholungen bei Fehlern</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Timeout (Sekunden)</label>
                                                    <input type="number" class="form-control" name="timeout_seconds" id="editTimeoutSeconds" min="30" max="600">
                                                    <div class="form-text">Maximale Wartezeit</div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="mb-3">
                                                    <label class="form-label">Error Handling</label>
                                                    <select class="form-select" name="error_handling" id="editErrorHandling">
                                                        <option value="graceful">Graceful (Fallback)</option>
                                                        <option value="strict">Strict (Abbruch)</option>
                                                        <option value="retry">Retry (Wiederholen)</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Performance Settings -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#editPerformanceSettings" aria-expanded="false">
                                        <i class="fas fa-tachometer-alt me-2"></i>Performance-Einstellungen
                                    </button>
                                </h2>
                                <div id="editPerformanceSettings" class="accordion-collapse collapse" data-bs-parent="#editAdvancedSettingsAccordion">
                                    <div class="accordion-body">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Response Limit (Sekunden)</label>
                                                    <input type="number" class="form-control" name="response_limit" id="editResponseLimit" min="5" max="120">
                                                    <div class="form-text">Maximale Antwortzeit</div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Context Window</label>
                                                    <select class="form-select" name="context_window" id="editContextWindow">
                                                        <option value="32000">32K (Standard)</option>
                                                        <option value="64000">64K (Erweitert)</option>
                                                        <option value="128000">128K (Maximum)</option>
                                                    </select>
                                                    <div class="form-text">Verf√ºgbare Kontext-Gr√∂√üe</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Behavior Presets -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#editBehaviorPresets" aria-expanded="false">
                                        <i class="fas fa-user-cog me-2"></i>Verhalten & Tools
                                    </button>
                                </h2>
                                <div id="editBehaviorPresets" class="accordion-collapse collapse" data-bs-parent="#editAdvancedSettingsAccordion">
                                    <div class="accordion-body">
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label class="form-label">Behavior Preset</label>
                                                <select class="form-select" name="behavior_preset" id="editBehaviorPreset" onchange="applyBehaviorPreset(this.value, 'edit')">
                                                    <option value="balanced">üéØ Balanced (Ausgewogen)</option>
                                                    <option value="creative">üé® Creative (Kreativ)</option>
                                                    <option value="conservative">üîí Conservative (Konservativ)</option>
                                                    <option value="analytical">üìä Analytical (Analytisch)</option>
                                                    <option value="custom">‚öôÔ∏è Custom (Benutzerdefiniert)</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <button type="button" class="btn btn-outline-info btn-sm mt-4" onclick="showPresetInfo()">
                                                    <i class="fas fa-info-circle me-1"></i>Preset Info
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label">Custom System Message</label>
                                            <textarea class="form-control" name="custom_system_message" id="editCustomSystemMessage" rows="3" placeholder="Zus√§tzliche System-Anweisungen..."></textarea>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label">Enabled Tools</label>
                                            <div class="tool-checkboxes" id="editToolCheckboxes">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="create_content" id="edit_tool_create_content">
                                                    <label class="form-check-label" for="edit_tool_create_content">
                                                        üìù Create Content (Content-Erstellung)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="optimize_didactics" id="edit_tool_optimize_didactics">
                                                    <label class="form-check-label" for="edit_tool_optimize_didactics">
                                                        üéì Optimize Didactics (Didaktik-Optimierung)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="critically_review" id="edit_tool_critically_review">
                                                    <label class="form-check-label" for="edit_tool_critically_review">
                                                        üîç Critical Review (Qualit√§tspr√ºfung)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="request_user_feedback" id="edit_tool_request_user_feedback">
                                                    <label class="form-check-label" for="edit_tool_request_user_feedback">
                                                        üë§ Request User Feedback (User-Feedback)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="enabled_tools" value="knowledge_lookup" id="edit_tool_knowledge_lookup">
                                                    <label class="form-check-label" for="edit_tool_knowledge_lookup">
                                                        üìö Knowledge Lookup (Wissensdatenbank)
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save me-2"></i>√Ñnderungen speichern
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Create Assistant
        document.getElementById('createAssistantForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            // Collect basic data
            data.order_index = parseInt(data.order_index);
            data.is_active = true; // New assistants are active by default
            
            // Collect advanced behavior parameters
            data.temperature = parseFloat(data.temperature);
            data.top_p = parseFloat(data.top_p);
            data.max_tokens = parseInt(data.max_tokens);
            data.frequency_penalty = parseFloat(data.frequency_penalty);
            data.presence_penalty = parseFloat(data.presence_penalty);
            data.retry_attempts = parseInt(data.retry_attempts);
            data.timeout_seconds = parseInt(data.timeout_seconds);
            data.response_limit = parseInt(data.response_limit);
            data.context_window = parseInt(data.context_window);
            
            // Collect enabled tools from checkboxes
            const enabledTools = [];
            document.querySelectorAll('input[name="enabled_tools"]:checked').forEach(checkbox => {
                enabledTools.push(checkbox.value);
            });
            data.enabled_tools = JSON.stringify(enabledTools);

            try {
                const response = await fetch('/api/assistants', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    location.reload();
                } else {
                    const result = await response.json();
                    alert('Fehler: ' + (result.error || 'Unbekannter Fehler'));
                }
            } catch (error) {
                console.error('Error creating assistant:', error);
                alert('Fehler beim Erstellen des Assistants.');
            }
        });

        // Event Listeners f√ºr neue CSS-Klassen
        document.addEventListener('DOMContentLoaded', function() {
            // Edit buttons
            document.querySelectorAll('.edit-assistant').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const id = parseInt(this.getAttribute('data-id'));
                    editAssistant(id);
                });
            });

            // Toggle buttons  
            document.querySelectorAll('.toggle-assistant').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const id = parseInt(this.getAttribute('data-id'));
                    toggleAssistant(id);
                });
            });

            // Delete buttons
            document.querySelectorAll('.delete-assistant').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const id = parseInt(this.getAttribute('data-id'));
                    const name = this.getAttribute('data-name');
                    deleteAssistant(id, name);
                });
            });
        });

        // Edit Assistant - Load via API
        async function editAssistant(id) {
            try {
                const response = await fetch(`/api/assistants/${id}`);
                if (!response.ok) throw new Error('Assistant nicht gefunden');
                
                const assistant = await response.json();
                
                document.getElementById('editAssistantId').value = id;
                document.getElementById('editName').value = assistant.name;
                document.getElementById('editRole').value = assistant.role;
                document.getElementById('editAssistantIdField').value = assistant.assistant_id;
                document.getElementById('editDescription').value = assistant.description || '';
                document.getElementById('editModel').value = assistant.model;
                document.getElementById('editOrderIndex').value = assistant.order_index;
                document.getElementById('editIsActive').value = assistant.is_active.toString();
                document.getElementById('editInstructions').value = assistant.instructions || '';
                
                // Populate advanced settings fields
                document.getElementById('editTemperature').value = assistant.temperature || 0.7;
                document.getElementById('editTopP').value = assistant.top_p || 1.0;
                document.getElementById('editMaxTokens').value = assistant.max_tokens || 2000;
                document.getElementById('editFrequencyPenalty').value = assistant.frequency_penalty || 0.0;
                document.getElementById('editPresencePenalty').value = assistant.presence_penalty || 0.0;
                document.getElementById('editRetryAttempts').value = assistant.retry_attempts || 3;
                document.getElementById('editTimeoutSeconds').value = assistant.timeout_seconds || 180;
                document.getElementById('editErrorHandling').value = assistant.error_handling || 'graceful';
                document.getElementById('editResponseLimit').value = assistant.response_limit || 30;
                document.getElementById('editContextWindow').value = assistant.context_window || '128000';
                document.getElementById('editBehaviorPreset').value = assistant.behavior_preset || 'balanced';
                document.getElementById('editCustomSystemMessage').value = assistant.custom_system_message || '';

                // Populate enabled tools
                const enabledToolsArray = typeof assistant.enabled_tools === 'string' 
                    ? JSON.parse(assistant.enabled_tools) 
                    : (assistant.enabled_tools || ['create_content','optimize_didactics','critically_review','request_user_feedback','knowledge_lookup']);
                
                document.getElementById('edit_tool_create_content').checked = enabledToolsArray.includes('create_content');
                document.getElementById('edit_tool_optimize_didactics').checked = enabledToolsArray.includes('optimize_didactics');
                document.getElementById('edit_tool_critically_review').checked = enabledToolsArray.includes('critically_review');
                document.getElementById('edit_tool_request_user_feedback').checked = enabledToolsArray.includes('request_user_feedback');
                document.getElementById('edit_tool_knowledge_lookup').checked = enabledToolsArray.includes('knowledge_lookup');
                
                new bootstrap.Modal(document.getElementById('editAssistantModal')).show();

            } catch (error) {
                console.error('Error loading assistant:', error);
                alert('Fehler beim Laden der Assistant-Daten: ' + error.message);
            }
        }

        // Update Assistant
        document.getElementById('editAssistantForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            const assistantId = document.getElementById('editAssistantId').value;
            
            // Parse basic data
            data.is_active = data.is_active === 'true';
            data.order_index = parseInt(data.order_index);
            
            // Parse advanced behavior parameters
            data.temperature = parseFloat(data.temperature);
            data.top_p = parseFloat(data.top_p);
            data.max_tokens = parseInt(data.max_tokens);
            data.frequency_penalty = parseFloat(data.frequency_penalty);
            data.presence_penalty = parseFloat(data.presence_penalty);
            data.retry_attempts = parseInt(data.retry_attempts);
            data.timeout_seconds = parseInt(data.timeout_seconds);
            data.response_limit = parseInt(data.response_limit);
            data.context_window = parseInt(data.context_window);
            
            // Collect enabled tools from edit checkboxes
            const enabledTools = [];
            document.querySelectorAll('#editToolCheckboxes input[name="enabled_tools"]:checked').forEach(checkbox => {
                enabledTools.push(checkbox.value);
            });
            data.enabled_tools = JSON.stringify(enabledTools);
            
            try {
                const response = await fetch(`/api/assistants/${assistantId}`, {
                    method: 'PUT',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    location.reload();
                } else {
                    const result = await response.json();
                    alert('Fehler beim Aktualisieren: ' + (result.error || 'Unbekannter Fehler'));
                }
            } catch (error) {
                console.error('Error updating assistant:', error);
                alert('Fehler beim Aktualisieren des Assistants.');
            }
        });

        // Toggle Assistant
        async function toggleAssistant(id) {
            try {
                const response = await fetch(`/api/assistants/${id}/toggle`, {
                    method: 'POST'
                });
                
                if (response.ok) {
                    location.reload();
                } else {
                    const result = await response.json();
                    alert('Fehler beim Umschalten: ' + (result.error || 'Unbekannter Fehler'));
                }
            } catch (error) {
                console.error('Error toggling assistant:', error);
                alert('Fehler beim Umschalten des Assistant-Status.');
            }
        }

        // Delete Assistant
        async function deleteAssistant(id, name) {
            if (confirm(`M√∂chtest du den Assistant "${name}" wirklich l√∂schen?`)) {
                try {
                    const response = await fetch(`/api/assistants/${id}`, {
                        method: 'DELETE'
                    });
                    
                    if (response.ok) {
                        location.reload();
                    } else {
                        const result = await response.json();
                        alert('Fehler beim L√∂schen: ' + (result.error || 'Unbekannter Fehler'));
                    }
                } catch (error) {
                    console.error('Error deleting assistant:', error);
                    alert('Fehler beim L√∂schen des Assistants.');
                }
            }
        }
        
        // Behavior Preset Functions
        function applyBehaviorPreset(preset, context) {
            const presets = {
                'creative': {
                    temperature: 1.2,
                    top_p: 0.95,
                    frequency_penalty: 0.2,
                    presence_penalty: 0.3,
                    max_tokens: 3000
                },
                'conservative': {
                    temperature: 0.3,
                    top_p: 0.8,
                    frequency_penalty: 0.0,
                    presence_penalty: 0.0,
                    max_tokens: 1500
                },
                'analytical': {
                    temperature: 0.5,
                    top_p: 0.9,
                    frequency_penalty: 0.1,
                    presence_penalty: 0.1,
                    max_tokens: 2500
                },
                'balanced': {
                    temperature: 0.7,
                    top_p: 1.0,
                    frequency_penalty: 0.0,
                    presence_penalty: 0.0,
                    max_tokens: 2000
                }
            };
            
            const config = presets[preset];
            if (config && preset !== 'custom') {
                // Apply to create or edit modal
                if (context === 'edit') {
                    document.getElementById('editTemperature').value = config.temperature;
                    document.getElementById('editTopP').value = config.top_p;
                    document.getElementById('editFrequencyPenalty').value = config.frequency_penalty;
                    document.getElementById('editPresencePenalty').value = config.presence_penalty;
                    document.getElementById('editMaxTokens').value = config.max_tokens;
                } else {
                    document.querySelector('input[name="temperature"]').value = config.temperature;
                    document.querySelector('input[name="top_p"]').value = config.top_p;
                    document.querySelector('input[name="frequency_penalty"]').value = config.frequency_penalty;
                    document.querySelector('input[name="presence_penalty"]').value = config.presence_penalty;
                    document.querySelector('input[name="max_tokens"]').value = config.max_tokens;
                }
            }
        }
        
        function showPresetInfo() {
            const info = `
üéØ Balanced: Ausgewogene Einstellungen f√ºr die meisten Anwendungen
üé® Creative: H√∂here Kreativit√§t und Diversit√§t, mehr experimentelle Antworten
üîí Conservative: Fokussierte, konsistente Antworten mit niedriger Variabilit√§t
üìä Analytical: Strukturierte, logische Antworten mit moderater Kreativit√§t
‚öôÔ∏è Custom: Benutzerdefinierte Einstellungen

Diese Presets √ºberschreiben automatisch die API-Parameter mit bew√§hrten Kombinationen.
            `;
            alert(info);
        }
        
        function showModelInfo() {
            const info = `
ü§ñ OpenAI Model-Guide:

üÜï LATEST MODELS:
‚Ä¢ GPT-4.1: Neuestes Modell mit verbesserter Performance
‚Ä¢ GPT-4.1 Mini: Kosteng√ºnstige Version mit guter Leistung
‚Ä¢ GPT-4.1 Nano: Ultra-effizient f√ºr einfache Tasks
‚Ä¢ GPT-4.5 Preview: Experimentell, cutting-edge Features

üî• GPT-4o FAMILIE (EMPFOHLEN):
‚Ä¢ GPT-4o: Beste Balance aus Performance und Kosten
‚Ä¢ GPT-4o Mini: G√ºnstigste Option f√ºr die meisten Tasks
‚Ä¢ Audio/Realtime: F√ºr Audio-/Voice-Anwendungen
‚Ä¢ Search: Optimiert f√ºr Web-Search Integration

üß† O1 FAMILIE (REASONING):
‚Ä¢ O1: Fortgeschrittene Reasoning-F√§higkeiten
‚Ä¢ O1 Pro: Premium-Version f√ºr komplexe Aufgaben
‚Ä¢ O1 Mini: Kosteng√ºnstig f√ºr Reasoning-Tasks

üî¨ O3/O4 FAMILIE (NEXT-GEN):
‚Ä¢ O3/O4: Experimentelle next-gen Modelle
‚Ä¢ Deep Research: Speziell f√ºr Research-Tasks

üí° EMPFEHLUNG:
F√ºr die meisten Anwendungen: GPT-4o
F√ºr komplexe Reasoning: O1
F√ºr kostenoptimiert: GPT-4o Mini
            `;
            alert(info);
        }
    </script>
</body>
</html> 